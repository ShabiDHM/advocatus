# FILE: backend/requirements.txt (UNIFIED & PINNED - V5.1)
# PHOENIX PROTOCOL - DEPENDENCY FINAL
# 1. ADDED: 'xlrd' to support legacy .xls bank statements.
# 2. ADDED: 'httpx' explicit declaration for LLM service stability.
# 3. STATUS: Forensic Engine Certified.

# --- Core Web Framework & Async ---
fastapi==0.109.2
uvicorn[standard]==0.29.0
starlette==0.36.3
websockets
anyio==4.10.0
httpx==0.27.0  # Explicitly added for Service communication

# --- Pydantic & Settings ---
pydantic==2.7.1
pydantic-core==2.18.2
pydantic-settings==2.10.1
python-dotenv==1.1.1

# --- Authentication ---
passlib==1.7.4
bcrypt==4.0.1
python-jose[cryptography]
email-validator==2.3.0

# --- Database & Cache ---
pymongo==4.6.1
redis==5.0.4
motor==3.3.2
neo4j==5.18.0

# --- Task Queue ---
celery==5.4.0
kombu==5.5.4
billiard==4.2.1
vine==5.1.0
amqp==5.3.1

# --- Logging & Utilities ---
structlog
python-multipart==0.0.20
click==8.2.1
typing_extensions==4.15.0
boto3==1.40.32
Jinja2==3.1.4
requests
dateparser==1.2.0

# --- Document Processing ---
fpdf2==2.7.9
pdf2image==1.17.0
pdfminer.six==20250506
PyMuPDF==1.26.4
pypdf==6.0.0
python-docx==1.2.0
python-pptx==0.6.23
pytesseract==0.3.13
pillow==11.3.0
reportlab==4.4.3
pandas
openpyxl        # For .xlsx files
xlrd>=2.0.1     # For legacy .xls files
opencv-python-headless==4.9.0.80

# --- AI & ML Dependencies (UNIFIED) ---
chromadb-client==1.1.0
langchain
langchain-community
langchain-openai
langchain-text-splitters
langdetect==1.0.9
numpy<2,>=1.26.4
# PHOENIX ADDITION: OpenAI SDK for DeepSeek/OpenRouter
openai>=1.0.0

# AI Service Specific Libraries
torch --index-url https://download.pytorch.org/whl/cpu
transformers
sentence-transformers
spacy==3.7.4